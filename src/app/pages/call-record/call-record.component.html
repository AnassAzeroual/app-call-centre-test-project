<div class="breadcrumb">
  <nz-breadcrumb>
    <nz-breadcrumb-item routerLink="/home"><a>Home</a></nz-breadcrumb-item>
    <nz-breadcrumb-item><a>Enregistrement des Appels</a></nz-breadcrumb-item>
  </nz-breadcrumb>
</div>
<div class="call-recording-container">
  <h2>Enregistrement des Appels</h2>
  <div class="call-buttons">
    <button (click)="onStartCall()">Démarrer l'appel</button>
    <button (click)="onEndCall()">Terminer l'appel</button>
  </div>
  <form [formGroup]="callForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="sujet">Ticket:</label>
      <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a ticket" formControlName="ticket">
        <nz-option nzLabel="en cours" nzValue="en cours"></nz-option>
        <nz-option nzLabel="résolu" nzValue="résolu"></nz-option>
        <nz-option nzLabel="annulé" nzValue="annulé"></nz-option>
      </nz-select>
    </div>
    <div class="form-group">
      <label for="sujet">type:</label>
      <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select a call type" formControlName="type">
        <nz-option nzLabel="Manqué" nzValue="Manqué"></nz-option>
        <nz-option nzLabel="Entrant" nzValue="Entrant"></nz-option>
        <nz-option nzLabel="Sortant" nzValue="Sortant"></nz-option>
      </nz-select>
    </div>
    <div class="form-group">
      <label for="numero">Numéro:</label>
      <input type="text" formControlName="numero" id="numero" class="form-control">
      <div *ngIf="form['numero'].invalid && isSubmit" class="error">
        <small *ngIf="form['numero'].errors">numero is required.</small>
      </div>
    </div>
    <div class="form-group">
      <label for="date">Date:</label>
      <input type="text" formControlName="date" id="date" class="form-control">
      <div *ngIf="form['date'].invalid && isSubmit" class="error">
        <small *ngIf="form['date'].errors">date is required.</small>
      </div>
    </div>
    <div class="form-group">
      <label for="heure">Heure:</label>
      <input type="text" formControlName="heure" id="heure" class="form-control">
      <div *ngIf="form['heure'].invalid && isSubmit" class="error">
        <small *ngIf="form['heure'].errors">heure is required.</small>
      </div>
    </div>
    <div class="form-group">
      <label for="duree">Durée:</label>
      <input type="text" formControlName="duree" id="duree" class="form-control">
      <div *ngIf="form['duree'].invalid && isSubmit" class="error">
        <small *ngIf="form['duree'].errors">duree is required.</small>
      </div>
    </div>
    <div class="form-group">
      <label for="sujet">Sujet:</label>
      <input type="text" formControlName="sujet" id="sujet" class="form-control">
    </div>
    <div class="form-group">
      <label for="notes">Notes:</label>
      <textarea formControlName="notes" id="notes" class="form-control" rows="5"></textarea>
    </div>
    <button type="submit" class="btn btn-primary">Enregistrer</button>
  </form>
</div>
